<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="/static/vender/css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- Custom styles for this template -->
    <link href="/static/vender/css/simple-sidebar.css" rel="stylesheet">
    <style>

        * {
            font-family: 'Noto Sans KR', sans-serif;
        }

        body {
            padding-bottom : 20px;
            box-sizing: border-box;
        }

        #askBidSignal .card:not(:first-child) {
            margin-top: 7px !important;
        }

        /*
         *  STYLE 4
         */

        /*#upbitWhale::-webkit-scrollbar-track*/
        /*{*/
        /*    -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);*/
        /*    background-color: #212529;*/
        /*}*/

        #upbitWhale::-webkit-scrollbar,
        #askBidSignal::-webkit-scrollbar
        {
            position: absolute;
            right: 5px;
            width: 5px;
            /*background-color: #212529;*/
        }

        #upbitWhale::-webkit-scrollbar-thumb,
        #askBidSignal::-webkit-scrollbar-thumb
        {
            background-color: #1b1d21;
            background-image: -webkit-linear-gradient(45deg,
            rgba(255, 255, 255, .2) 25%,
            transparent 25%,
            transparent 50%,
            rgba(255, 255, 255, .2) 50%,
            rgba(255, 255, 255, .2) 75%,
            transparent 75%,
            transparent);
            border-radius: 50px;
        }

        #upbitWhale {
            border-top-left-radius: 0px !important;
            border-top-right-radius: 0px !important;
        }

        #upbitWhale li:first-child {
            border-top-left-radius: 0px !important;
            border-top-right-radius: 0px !important;
        }
    </style>
    <title>Hello, world!</title>
</head>
<body class="bg-dark">
<div aria-live="polite" aria-atomic="true" class="d-flex position-absolute justify-content-center align-items-center w-100 mt-2" style="z-index: -1" id="toast_container">

    <!-- Then put toasts within -->
    <div class="toast" id="toast1" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
            <img src="https://www.pngitem.com/pimgs/m/116-1166875_icon-megaphone-marketing-icon-transparent-background-hd-png.png" class="rounded me-2" style="width: 1.5em; height: 1.5em;" alt="...">
            <strong class="me-auto">업비트! 큰 고래 알림!!!</strong>
            <small>just Now!</small>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
            toast message...
        </div>
    </div>
</div>
    <div class="d-flex" id="wrapper">
        <!-- Sidebar -->
        <div class="bg-dark border-dark border-end" id="sidebar-wrapper">
            <div class="sidebar-heading text-white">
                <img src="https://image.flaticon.com/icons/png/512/2834/2834539.png" style="width: 1.5em; height: 1.5em;" />
                <span>업비트 고래잡이</span>
            </div>
            <div class="list-group list-group-flush ">
                <a href="#" class="list-group-item list-group-item-action bg-dark text-white">Dashboard</a>
                <a href="#" class="list-group-item list-group-item-action bg-dark text-white">Shortcuts</a>
                <a href="#" class="list-group-item list-group-item-action bg-dark text-white">Overview</a>
                <a href="#" class="list-group-item list-group-item-action bg-dark text-white">Events</a>
                <a href="#" class="list-group-item list-group-item-action bg-dark text-white">Profile</a>
                <a href="#" class="list-group-item list-group-item-action bg-dark text-white">Status</a>
            </div>
        </div>
        <!-- /#sidebar-wrapper -->

        <!-- Page Content -->
        <div id="page-content-wrapper">

            <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-lg">
                <button class="btn btn-secondary" id="menu-toggle">Toggle Menu</button>

                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
                        <li class="nav-item active">
                            <a class="nav-link text-white" href="#">Home <span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white" href="#">Link</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link text-white dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Dropdown
                            </a>
                            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="#">Action</a>
                                <a class="dropdown-item" href="#">Another action</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="#">Something else here</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
            <div class="container-lg align-middle">
                <div class="row">
                    <!-- // 비트코인 // -->
                    <div class="col-lg-3 col-md-6 text-white mt-3" id="KRW-BTC-CARD">
                        <div class="shadow card" style="background-color: #5586EB;">
                            <div class="card-header">
                                <div class="card-title">
                                    <h5>KRW-BTC</h5>
                                </div>
                                <div class="d-flex flex-row justify-content-between">
                                    <div class="col-xs-3">
                                        <img src="https://static.upbit.com/logos/BTC.png" style="width: 52px; height: 52px;">
                                    </div>
                                    <div class="col-xs-9 text-end">
                                        <h5 class="trade_price">60,512,202 (12.02%)</h5>
                                        <p class="mb-0 closing_trade">전일대비 210,500</p>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer d-flex flex-row justify-content-between text-white">
                                <span class="price_volume">거래대금</span>
                                <span class="ms-auto kimp">김프</span>
                            </div>
                        </div>
                    </div>
                    <!-- // 비트코인 // -->

                    <!-- // 이더리움 // -->
                    <div class="col-lg-3 col-md-6 text-white mt-3" id="KRW-ETH-CARD">
                        <div class="shadow card card-color" style="background-color: #5586EB;">
                            <div class="card-header">
                                <div class="card-title">
                                    <h5>KRW-ETH</h5>
                                </div>
                                <div class="d-flex flex-row justify-content-between">
                                    <div class="col-xs-3">
                                        <img src="https://static.upbit.com/logos/ETH.png" style="width: 52px; height: 52px;">
                                    </div>
                                    <div class="col-xs-9 text-end">
                                        <h5 class="trade_price">60,512,202 (12.02%)</h5>
                                        <p class="mb-0 closing_trade">전일대비 210,500</p>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer d-flex flex-row justify-content-between text-white">
                                <span class="price_volume">거래대금</span>
                                <span class="ms-auto kimp">김프</span>
                            </div>
                        </div>
                    </div>
                    <!-- // 이더리움 // -->

                    <!-- // 리플 // -->
                    <div class="col-lg-3 col-md-6 text-white mt-3" id="KRW-XRP-CARD">
                        <div class="shadow card" style="background-color: #5586EB;">
                            <div class="card-header">
                                <div class="card-title">
                                    <h5>KRW-XRP</h5>
                                </div>
                                <div class="d-flex flex-row justify-content-between">
                                    <div class="col-xs-3">
                                        <img src="https://static.upbit.com/logos/XRP.png" style="width: 52px; height: 52px;">
                                    </div>
                                    <div class="col-xs-9 text-end">
                                        <h5 class="trade_price">60,512,202 (12.02%)</h5>
                                        <p class="mb-0 closing_trade">전일대비 210,500</p>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer d-flex flex-row justify-content-between text-white">
                                <span class="price_volume">거래대금</span>
                                <span class="ms-auto kimp">김프</span>
                            </div>
                        </div>
                    </div>
                    <!-- // 리플 // -->

                    <!-- // 도지코인 // -->
                    <div class="col-lg-3 col-md-6 text-white mt-3" id="KRW-DOGE-CARD">
                        <div class="shadow card" style="background-color: #5586EB;">
                            <div class="card-header">
                                <div class="card-title">
                                    <h5>KRW-DOGE</h5>
                                </div>
                                <div class="d-flex flex-row justify-content-between">
                                    <div class="col-xs-3">
                                        <img src="https://static.upbit.com/logos/DOGE.png" style="width: 52px; height: 52px;">
                                    </div>
                                    <div class="col-xs-9 text-end">
                                        <h5 class="trade_price">60,512,202 (12.02%)</h5>
                                        <p class="mb-0 closing_trade">전일대비 210,500</p>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer d-flex flex-row justify-content-between text-white">
                                <span class="price_volume">거래대금</span>
                                <span class="ms-auto kimp">김프</span>
                            </div>
                        </div>
                    </div>
                    <!-- // 도지코인 // -->
                </div>
                <div class="row" style="font-size: 0.9em;">
                    <div class="col-lg-6 col-md-6 mt-3">
                        <div class="d-flex text-white">
                            <div class="me-auto p2">
                                <h5 class="d-flex text-white align-bottom">
                                    <img src="https://www.pngkey.com/png/full/236-2365107_signal-icon-png.png" style="width: 0.9em; height: 0.9em;" />
                                    <p class="m-0" style="margin-left: 7px !important; font-size: 0.7em;">매수/매도 시그널</p>
                                </h5>
                            </div>
                        </div>
                        <div class="p-3 shadow-lg rounded" style="background-color: #1b1d21; height: 614px; overflow-y: overlay;" id="askBidSignal">



                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6 mt-3 pt-0 pb-0">
                        <div class="d-flex text-white">
                            <div class="me-auto p2">
                                <h5 class="d-flex text-white align-bottom">
                                    <img src="https://image.flaticon.com/icons/png/512/2834/2834539.png" style="width: 0.9em; height: 0.9em;" />
                                    <p class="m-0" style="margin-left: 7px !important; font-size: 0.7em;">업비트 고래 현황</p>
                                    <img src="https://purepng.com/public/uploads/large/purepng.com-settings-icon-android-kitkatsymbolsiconsapp-iconsandroid-kitkatandroid-44-721522597677p9lc8.png"
                                         style="margin-left: 7px; width: 0.9em; height: 0.9em;"
                                         data-bs-placement="bottom" title="설정"
                                         data-bs-toggle="modal" data-bs-target="#settingModal"/>
                                </h5>
                            </div>
                            <div class="p2">
                                <p class="m-0" style="font-size: 0.8em;" id="upbitWhaleUpdatedTime">lastUpdated: 0000-00-00 00:00:00</p>
                            </div>
                        </div>
                        <ul class="list-group shadow">
                            <li class="list-group-item list-group-item-secondary border-bottom-0 bg-dark text-white"
                                style="box-sizing: border-box;
                                border-bottom-right-radius: 0;
                                border-bottom-left-radius: 0;">
                                <div class="d-flex">
                                    <div class="me-auto bd-highlight" style="width: 10em;">코인</div>
                                    <div class="me-auto bd-highlight" style="width: 2em;">구분</div>
                                    <div class="bd-highlight" style="width:5em;">체결가</div>
                                    <div class="bd-highlight text-center" style="margin-left: 20px; width:3em;">가격</div>
                                    <div class="bd-highlight text-center" style="margin-left: 20px; width:2em;">RSI</div>
                                    <div class="bd-highlight" style="margin-left: 20px; width:5em;">BB上</div>
                                    <div class="bd-highlight" style="margin-left: 20px; width:5em;">BB下</div>
                                </div>
                            </li>
                        </ul>
                        <ul class="list-group" style="background-color: #1b1d21; height: 40em; overflow-y: overlay;" id="upbitWhale">
                        </ul>
                    </div>
                </div>
            </div>
            <footer></footer>
        </div>
    </div>

    <!-- 셋팅 모달 -->
    <div class="modal fade" id="settingModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">알림 셋팅</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="form-check form-switch">
                        <input class="form-check-input whaleSoundChk" type="checkbox" id="flexSwitchCheckChecked" checked>
                        <label class="form-check-label" for="flexSwitchCheckChecked">고래 출현시 알림 소리 켜기</label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary setModalBtn">Save changes</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 셋팅 모달 -->

    <script src="https://code.jquery.com/jquery-3.6.0.min.js" type="text/javascript"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/24c1a5db21.js" crossorigin="anonymous"></script>
    <script src="/static/vender/js/socket.io/ticker.js?version=2021-07-22" type="text/javascript"></script>
    <script src="/static/vender/js/socket.io/widget_decode.js?version=2021-07-21" type="text/javascript"></script>

    <!-- Menu Toggle Script -->
    <script>
        $(() => {
            $("#menu-toggle").click(function (e) {
                e.preventDefault();
                $("#wrapper").toggleClass("toggled");
            });

            $(".setModalBtn").click(() => {
                cardSound = $(".whaleSoundChk").prop("checked");
                $("#settingModal").modal("hide");
            });

            if (window.Notification) {
                Notification.requestPermission();
            }

            setInterval(() => {
                $(document).find(".timeouts").each((key, data) => {
                    let eDate = new Date().getTime();
                    let sDate = new Date($(data).attr("data-start-time")).getTime();

                    let useTime = eDate - sDate;

                    var timeGap = new Date(0, 0, 0, 0, 0, 0, useTime);

                    let useMin = timeGap.getMinutes();
                    let useSec = timeGap.getSeconds();

                    let fullSec = (useMin * 60) + useSec;
                    let gage = 100 - (100/900) * fullSec;

                    $(data).attr("aria-valuenow", gage);
                    $(data).css("width", gage + "%");

                    $(data).text((5-useMin) + "분 " + (60-useSec) + "초 남음");

                    if ($(data).text() == "15분 0초 경과") {
                        $(data).closest(".card").fadeOut().remove();
                    }
                });
            }, 1000);
        });
    </script>
</body>
</html>